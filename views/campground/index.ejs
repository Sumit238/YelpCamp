<% layout('/layout/boilerplate.ejs') %>
    <style>
        .btn-fixed-hover {
            position: fixed;
            top: 85%;
            left: 80%;
            cursor: pointer;
            box-shadow: 1px 3px 5px rgb(2, 79, 99);
            z-index: 30;
        }

        @media only screen and (max-width: 800px) {
            .btn-fixed-hover {
                top: 85%;
                left: 60%;
            }
        }

        @media only screen and (max-width: 600px) {
            .btn-fixed-hover {
                top: 85%;
                left: 50%;
            }
        }

        @media only screen and (max-width: 400px) {
            .btn-fixed-hover {
                top: 85%;
                left: 25%;
            }
        }

        h1 {
            text-shadow: 1px 1px 3px rgb(134, 138, 134);
        }
    </style>
    <h1 class="w-100 text-center">Camp grounds</h1>
    <h3>
        <a href='/campgrounds/new' class="btn btn-success btn-fixed-hover">Add a new campground</a>
    </h3>


    <div class="container-fluid d-flex flex-wrap justify-content-around ">
        <% for( let camp of campgrounds) { %>
            <div class="card d-flex align-items-start justify-content-around row m-4 shadow-sm pt-3 bg-body rounded"
                style="width: 18rem;">
                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <% camp.images.forEach((img,i)=> { %>
                            <% if (i==0) { %>
                                <div class="carousel-item active">
                                    <img class="d-block w-100" src="<%= img.url %>">
                                </div>
                                <%} else { %>
                                    <div class="carousel-item">
                                        <img class="d-block w-100" src="<%= img.url %>">
                                    </div>
                                    <% } %>
                                        <% }) %>
                    </div>
                </div>

                <div class="card-body">
                    <h5 class="card-title">
                        <%= camp.title %>
                    </h5>
                    <p class="card-text">
                        <small>
                            <%= camp.location %>
                        </small>
                    </p>
                    <a href='campground/show/<%=camp.id %>' class="btn btn-primary">View</a>
                </div>
            </div>
            <% } %>
    </div>